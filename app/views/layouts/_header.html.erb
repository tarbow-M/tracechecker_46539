<!-- 全ページ共通のヘッダー（ナビゲーションバー） -->
<nav class="bg-white shadow-md sticky top-0 z-40">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      
      <!-- 左側: ブランドロゴ -->
      <div class="flex items-center">
        <%= link_to 'TraceChecker', root_path, class: "text-2xl font-bold text-gray-800" %>
      </div>

      <!-- 右側: ユーザー情報・ログアウト -->
      <div class="flex items-center">
        <% if user_signed_in? %>
          <span class="text-sm text-gray-600 mr-4">
            ようこそ, <%= current_user.name || current_user.email %> さん
          </span>
          
          <!-- ログアウトボタン Turbo (Rails 7) が 'method: :delete' を処理します -->
          <%= button_to 'ログアウト', 
              destroy_user_session_path, 
              method: :delete, 
              class: "inline-flex items-center justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-medium text-white shadow-sm transition-colors hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2" 
          %>
        <% else %>
          <!-- (ログイン画面などでは、ここは表示されません) -->
          <%= link_to 'ログイン', 
              new_user_session_path, 
              class: "text-sm font-medium text-blue-600 hover:text-blue-800" 
          %>
        <% end %>
      </div>

    </div>
  </div>
</nav>
